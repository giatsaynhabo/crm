<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ› ï¸ Cáº­p nháº­t dá»¯ liá»‡u Firestore</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/donhang.css" /> <!-- dÃ¹ng láº¡i card, table, btn, layout -->
  <script type="module" src="js/firebaseConfig.js"></script>
  <script type="module" src="js/menu.js"></script>
  <script type="module" src="js/updatedata.js" defer></script>
</head>

<body>
  <!-- Menu -->
  <div id="menu"></div>

  <!-- Ná»™i dung chÃ­nh -->
  <main class="container">
    <h1>ğŸ§© Cáº­p nháº­t dá»¯ liá»‡u Firestore</h1>

    <!-- Chá»n collection -->
    <section class="card">
      <div class="row">
        <div class="col-6">
          <label>Chá»n collection</label>
          <select id="collectionSelect">
            <option value="">-- Chá»n --</option>
            <option value="orders">ğŸ§º Orders</option>
            <option value="programs">ğŸ Programs</option>
            <option value="coupons">ğŸ« Coupons</option>
          </select>
        </div>

        <div class="col-6" id="idInputWrap" style="display:none;">
          <label>ID hoáº·c mÃ£ cáº§n tÃ¬m</label>
          <div class="row">
            <input id="docIdInput" placeholder="Nháº­p orderId hoáº·c mÃ£..." />
            <button id="btnLoadDoc" class="btn primary">ğŸ” Táº£i dá»¯ liá»‡u</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Form cáº­p nháº­t -->
    <section id="updateForm" class="card" style="display:none;">
      <h2>ThÃ´ng tin chi tiáº¿t</h2>
      <div id="fieldsContainer"></div>

      <div class="row right">
        <button type="button" id="btnViewJson" class="btn">ğŸ‘ï¸ Xem JSON gá»‘c</button>
        <button type="submit" class="btn primary">ğŸ’¾ Cáº­p nháº­t</button>
      </div>
    </section>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast"></div>

  <!-- Modal hiá»ƒn thá»‹ JSON -->
  <div id="jsonModal" class="modal">
    <div class="modal-content">
      <h2>Dá»¯ liá»‡u hiá»‡n táº¡i</h2>
      <pre id="jsonDisplay" style="max-height:60vh;overflow:auto;background:#f6f8fa;padding:10px;border-radius:8px;"></pre>
      <div class="modal-actions">
        <button id="btnCloseJson" class="btn">ÄÃ³ng</button>
      </div>
    </div>
  </div>

  <style>
    /* Bá»• sung nháº¹ Ä‘á»ƒ khá»›p style tá»•ng thá»ƒ */
    label { font-weight: 600; margin-bottom: 6px; display: block; }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      margin-bottom: 8px;
      font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
    }
    textarea { resize: vertical; }
    .field-group { margin-bottom: 12px; }
    .readonly { background: #f3f4f6; }
    .toast {
      position: fixed; bottom: 20px; right: 20px;
      background: #333; color: white;
      padding: 10px 14px; border-radius: 8px;
      display: none; z-index: 9999;
    }
    .card h2 { margin-top: 0; margin-bottom: 15px; }
    #fieldsContainer .field-group label { color: #222; }
    .btn.primary.large { font-size: 16px; padding: 10px 20px; }
    input[readonly] {
  background-color: #f3f4f6;
}
input.changed, select.changed, textarea.changed {
  background-color: #fff3cd !important; /* vÃ ng nháº¡t */
}
.readonly,
input[readonly],
select:disabled,
textarea[readonly] {
  background: #f3f4f6;
  color: #555;
  cursor: not-allowed;
}
  </style>
</body>
</html>
